    /// <summary>
    /// 
    /// </summary>
    public class %H%Repository : BaseRepository<%H%, %H%Model, %T%>
    {
        /// <summary>
        /// 
        /// </summary>
        /// <param name="context"></param>
        public %H%Repository(BootesDbContext context) : base(context)
        {
        }
        /// <summary>
        /// IQueryable %H% Entity Search
        /// </summary>
        %D%/// <returns></returns>
        public IQueryable<%H%> Search(%P%)
        {
            var table = Query();
            %F%  
            return table;
        }

        /// <summary>
        /// Paged %H% Model Search
        /// </summary>
        %D%/// <param name='page'></param>
        ///<param name='pageSize'></param>
        ///<param name='sort'></param>
        /// <returns></returns>
        public Page<%H%Model> SearchView(%P%,
            long page = 1, long pageSize = 10, string sort = 'Id')
        {
            var sql = 'select * from ' + Constants.DBPrefix + '%h%model where Id > 0 ';
            var c = 0;

            %F1%

            if(page <= 0)
            {
                var l = GetList(sql);
                return new Page<%H%Model>()
                {
                    CurrentPage = 0,
                    Items = l,
                    ItemsPerPage = 0,
                    TotalItems = 0,
                    TotalPages = 0
                };
            }

           
            sql += ApplySort(sort); 
            var k = SearchView(sql, page, pageSize);
            return new Page<%H%Model>()
            {
                CurrentPage = k.CurrentPage,
                Items = k.Items,
                ItemsPerPage = k.ItemsPerPage,
                TotalItems = k.TotalItems,
                TotalPages = k.TotalPages
            };
        }

        /// <summary>
        /// Get %H% Entity
        /// </summary>
        /// <param name='Id'></param>
        /// <returns></returns>
        public %H%Model GetModel(%T% Id)
        {
            var sql = "select * from " + Constants.DBPrefix + "%h%model where Id = @0"; 
            AddParam("Id", Id);
            return GetRecord(sql);
        }

        /// <summary>
        /// Check exists
        /// </summary>
        %D%/// 
        /// <param name="Id"></param>
        /// <returns></returns>
        public bool ItemExists(%P%, %T% Id = 0)
        {
            var check = Search(%V%);
            if (Id > 0)
            {
                check = check.Where(x => x.Id != Id);
            }
            return check.Any();
        }

        /// <summary>
        /// check exists
        /// </summary>
        /// <param name='model'></param>
        /// <param name='Id'></param>
        /// <returns></returns>
        public bool ItemExists(%H%Model model, %T% Id = 0)
        {
            var check = Search(%M%);
            if (Id > 0)
            {
                check = check.Where(x => x.Id != Id);
            }
            return check.Any();
        }
    }